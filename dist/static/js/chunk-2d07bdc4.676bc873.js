(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d07bdc4"],{1391:function(t,e,a){"use strict";var n=a("a253"),c=a.n(n);c.a},"6b0e":function(t,e,a){"use strict";var n=a("cebd"),c=a.n(n);c.a},a1f4:function(t,e,a){"use strict";a.d(e,"f",(function(){return c})),a.d(e,"e",(function(){return r})),a.d(e,"c",(function(){return s})),a.d(e,"d",(function(){return o})),a.d(e,"h",(function(){return l})),a.d(e,"g",(function(){return i})),a.d(e,"a",(function(){return u})),a.d(e,"b",(function(){return m}));var n=a("b775");function c(){return Object(n["a"])({url:"/v1/package-management/packages",method:"get"})}function r(t){return Object(n["a"])({url:"/v1/package-management/package/"+t,method:"get"})}function s(){return Object(n["a"])({url:"/v1/account-package-management/account-packages",method:"get"})}function o(t){return Object(n["a"])({url:"/v1/account-package-management/account-packages-paging?numOfElement="+t.limit+"&page="+t.page,method:"get"})}function l(t){return Object(n["a"])({url:"/v1/account-package-management/starter-package/"+t,method:"post"})}function i(t){return Object(n["a"])({url:"/v1/account-package-management/current-account-package-by-account-id/"+t,method:"get"})}function u(t){return Object(n["a"])({url:"/v1/account-package-management/cancel-account-package/"+t,method:"put"})}function m(t){return Object(n["a"])({url:t,method:"get"})}},a253:function(t,e,a){},b5be:function(t,e,a){},baf1:function(t,e,a){"use strict";var n=a("b5be"),c=a.n(n);c.a},cebd:function(t,e,a){},ecac:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[t.user?a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,xs:24}},[a("user-card",{attrs:{user:t.user}})],1),a("el-col",{attrs:{span:18,xs:24}},[a("el-card",[a("el-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"Activity",name:"activity"}},[a("activity")],1),a("el-tab-pane",{attrs:{label:"Edit Account",name:"account"}},[a("account",{attrs:{user:t.user}})],1),a("el-tab-pane",{attrs:{label:"Edit Company",name:"company"}},[a("company",{attrs:{company:t.company}})],1),a("el-tab-pane",{attrs:{label:"Change Password",name:"changePassword"}},[a("change-password")],1),a("el-tab-pane",{attrs:{label:"Billing",name:"billing"}},[t.currPackage?a("billing",{attrs:{"curr-package":t.currPackage}}):t._e()],1)],1)],1)],1)],1)],1):t._e()])},c=[],r=(a("a4d3"),a("e01a"),a("b0c0"),a("5530")),s=a("2f62"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"1.5em"}},[t._v("Profile")])]),a("div",{staticClass:"user-profile"},[a("div",{staticClass:"box-center"},[a("pan-thumb",{attrs:{image:t.user&&t.user.avatar,height:"100px",width:"100px",hoverable:!1}})],1),a("div",{staticClass:"box-center"},[a("div",{staticClass:"user-name text-center"},[t._v(t._s(t.user&&t.user.name))]),a("div",{staticClass:"user-role text-center text-muted"},[t._v(t._s(t.user&&t.user.role))])])]),a("div",{staticClass:"user-bio"},[a("div",{staticClass:"user-education user-bio-section"},[a("div",{staticClass:"user-bio-section-header"},[a("span",{staticStyle:{"font-size":"1.2em"}},[t._v("Contact")])]),a("div",{staticClass:"user-bio-section-body"},[a("div",{staticClass:"text-muted"},[a("p",[a("svg-icon",{attrs:{"icon-class":"email"}}),a("span",{staticStyle:{"margin-left":"20px"}},[t._v(t._s(t.user&&t.user.email))])],1)]),a("div",{staticClass:"text-muted"},[a("p",[a("svg-icon",{attrs:{"icon-class":"telephone"}}),a("span",{staticStyle:{"margin-left":"20px"}},[t._v(t._s(t.user&&t.user.phoneNo))])],1)])])])])])},l=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pan-item",style:{zIndex:t.zIndex,height:t.height,width:t.width}},[a("div",{staticClass:"pan-info"},[a("div",{staticClass:"pan-info-roles-container"},[t._t("default")],2)]),a("div",{staticClass:"pan-thumb",style:{backgroundImage:"url("+t.image+")"}})])},u=[],m=(a("a9e3"),{name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}}),p=m,d=(a("6b0e"),a("2877")),f=Object(d["a"])(p,i,u,!1,null,"14329dba",null),g=f.exports,b={components:{PanThumb:g},props:{user:{type:Object,default:function(){return{name:"",role:"",email:"",phoneNo:"",avatar:""}}}}},y=b,h=(a("1391"),Object(d["a"])(y,o,l,!1,null,"ff29d826",null)),v=h.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block timeline-container"},[a("el-timeline",t._l(t.listActivity,(function(e,n){return a("el-timeline-item",{key:n,attrs:{timestamp:new Date(e.time).toLocaleDateString(),placement:"top"}},[a("el-card",[a("h3",[t._v(t._s(e.title))]),a("p",{staticStyle:{"font-style":"italic"}},[t._v("By "+t._s(e.accountById.fullname)+" at "+t._s(new Date(e.time).toLocaleString()))])])],1)})),1)],1)},w=[],x=a("c24f"),_={data:function(){return{listActivity:null}},computed:{accountId:function(){return this.$store.state.user.accId}},created:function(){this.getActivities()},methods:{getActivities:function(){var t=this;Object(x["b"])(this.accountId).then((function(e){t.listActivity=e.data.sort((function(t,e){return e.timestamp-t.timestamp}))}))}}},P=_,C=(a("baf1"),Object(d["a"])(P,k,w,!1,null,"92eb88e8",null)),O=C.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:20}},[a("el-form",[a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{model:{value:t.user.name,callback:function(e){t.$set(t.user,"name","string"===typeof e?e.trim():e)},expression:"user.name"}})],1)],1),a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{attrs:{disabled:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email","string"===typeof e?e.trim():e)},expression:"user.email"}})],1)],1),a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Phone number"}},[a("el-input",{model:{value:t.user.phoneNo,callback:function(e){t.$set(t.user,"phoneNo","string"===typeof e?e.trim():e)},expression:"user.phoneNo"}})],1)],1),a("el-col",{attrs:{lg:24}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("Update")])],1)],1)],1)],1)},j=[],I={props:{user:{type:Object,default:function(){return{name:"",email:""}}}},methods:{submit:function(){this.$message({message:"User information has been updated successfully",type:"success",duration:5e3})}}},S=I,N=Object(d["a"])(S,$,j,!1,null,null,null),E=N.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:20}},[a("el-form",[a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{model:{value:t.company.name,callback:function(e){t.$set(t.company,"name","string"===typeof e?e.trim():e)},expression:"company.name"}})],1)],1),a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{model:{value:t.company.email,callback:function(e){t.$set(t.company,"email","string"===typeof e?e.trim():e)},expression:"company.email"}})],1)],1),a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Phone number"}},[a("el-input",{model:{value:t.company.phoneNo,callback:function(e){t.$set(t.company,"phoneNo","string"===typeof e?e.trim():e)},expression:"company.phoneNo"}})],1)],1),a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Location"}},[a("el-input",{model:{value:t.company.location,callback:function(e){t.$set(t.company,"location","string"===typeof e?e.trim():e)},expression:"company.location"}})],1)],1),a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Tax code"}},[a("el-input",{model:{value:t.company.taxCode,callback:function(e){t.$set(t.company,"taxCode","string"===typeof e?e.trim():e)},expression:"company.taxCode"}})],1)],1),a("el-col",{attrs:{lg:24}},[a("el-form-item",{attrs:{label:"Description"}},[a("el-input",{model:{value:t.company.description,callback:function(e){t.$set(t.company,"description","string"===typeof e?e.trim():e)},expression:"company.description"}})],1)],1),a("el-col",{attrs:{lg:24}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("Update")])],1)],1)],1)],1)},A=[],T={props:{company:{type:Object,default:function(){return{name:"",email:"",phoneNo:"",location:"",taxCode:"",description:""}}}},methods:{submit:function(){this.$message({message:"User information has been updated successfully",type:"success",duration:5e3})}}},U=T,D=Object(d["a"])(U,B,A,!1,null,null,null),z=D.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Current Password"}},[a("el-input",{model:{value:t.pw.curPassword,callback:function(e){t.$set(t.pw,"curPassword","string"===typeof e?e.trim():e)},expression:"pw.curPassword"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"New Password"}},[a("el-input",{model:{value:t.pw.newPassword,callback:function(e){t.$set(t.pw,"newPassword","string"===typeof e?e.trim():e)},expression:"pw.newPassword"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Confirm Password"}},[a("el-input",{model:{value:t.pw.confirmPassword,callback:function(e){t.$set(t.pw,"confirmPassword","string"===typeof e?e.trim():e)},expression:"pw.confirmPassword"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{lg:24}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("Update")])],1)],1)],1)],1)},Y=[],q={data:function(){return{pw:{curPassword:"",newPassword:"",confirmPassword:""}}},methods:{submit:function(){this.$message({message:"User information has been updated successfully",type:"success",duration:5e3})}}},J=q,F=Object(d["a"])(J,L,Y,!1,null,null,null),G=F.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.currPackage?a("div",[a("h3",[t._v("Your current package")]),a("el-form",[a("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"Package name:","label-width":"150px"}},[a("span",[t._v(t._s(t.currPackage.packageById&&t.currPackage.packageById.name))])]),a("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"Post remain:","label-width":"150px"}},[a("span",[t._v(t._s(t.currPackage&&t.currPackage.numOfPost))])]),a("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"Expired date:","label-width":"150px"}},[a("span",[t._v(t._s(t.currPackage&&new Date(t.currPackage.validTo).toLocaleString("en-US",{dateStyle:"long",timeStyle:"medium"})))])]),a("el-button",{attrs:{type:"danger"},on:{click:t.cancelCurrentPackage}},[t._v("Cancel Package")])],1)],1):t._e(),t.currPackage?t._e():a("div",[a("h3",[t._v("You have not bought any packages.")])])])},K=[],M=a("a1f4"),Q={props:{currPackage:{type:Object,required:!0}},computed:{accountId:function(){return this.$store.state.user.accId}},methods:{cancelCurrentPackage:function(){var t=this;Object(M["a"])(this.accountId).then((function(e){t.$router.push({name:"Profile"}),t.$message({message:"Your package has been canceled successfully",type:"success",duration:2500})})).catch((function(t){console.log(t)}))}}},R=Q,V=Object(d["a"])(R,H,K,!1,null,null,null),W=V.exports,X={name:"Profile",components:{UserCard:v,Activity:O,Account:E,Company:z,ChangePassword:G,Billing:W},data:function(){return{user:{},company:{},currPackage:{},activeTab:"activity",account:null}},computed:Object(r["a"])(Object(r["a"])({},Object(s["b"])(["name","avatar","roles","username"])),{},{accountId:function(){return this.$store.state.user.accId}}),created:function(){this.getAccountData(),this.getPackage()},methods:{getAccountData:function(){var t=this;Object(x["a"])(this.accountId).then((function(e){t.account=e.data,t.user={name:t.account.fullname,role:t.account.role,email:t.account.email,phoneNo:t.account.phoneNo,avatar:t.avatar},t.company={name:t.account.companyById.name,email:t.account.companyById.email,phoneNo:t.account.companyById.phoneNo,location:t.account.companyById.location,taxCode:t.account.companyById.taxCode,description:t.account.companyById.description}}))},getPackage:function(){var t=this;Object(M["g"])(this.accountId).then((function(e){t.currPackage=e.data})).catch((function(t){console.log(t)}))}}},Z=X,tt=Object(d["a"])(Z,n,c,!1,null,null,null);e["default"]=tt.exports}}]);