(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36335670"],{"513c":function(e,t,a){},5723:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"h",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"g",(function(){return l})),a.d(t,"f",(function(){return u})),a.d(t,"i",(function(){return m})),a.d(t,"j",(function(){return p})),a.d(t,"b",(function(){return d}));a("b0c0");var n=a("b775");function o(e){return Object(n["a"])({url:"/v1/account-management/accounts-paging?&name="+e.name+"&status="+e.status+"&role="+e.role+"&numOfElement="+e.limit+"&page="+e.page+"&sort="+e.sort,method:"get"})}function r(e){return Object(n["a"])({url:"/v1/account-management/account/"+e,method:"get"})}function c(e,t){return Object(n["a"])({url:"/v1/account-management/account",method:t,data:e})}function s(e){return Object(n["a"])({url:"/v1/account-management/update-account",method:"put",data:e})}function i(e){return Object(n["a"])({url:"/v1/account-management/change-password-account",method:"put",data:e})}function l(e){return Object(n["a"])({url:"/v1/company-management/companies-paging?name="+e.name+"&status="+e.status+"&numOfElement="+e.limit+"&page="+e.page+"&sort="+e.sort,method:"get"})}function u(e){return Object(n["a"])({url:"/v1/company-management/company/"+e,method:"get"})}function m(e){return Object(n["a"])({url:"/v1/company-management/company",method:"put",data:e})}function p(e,t){return Object(n["a"])({url:"/v1/company-management/company/verify?id="+e+"&email="+t,method:"put"})}function d(e){return Object(n["a"])({url:"/v1/company-management/check-company-name",method:"get",params:e})}},"6b0e":function(e,t,a){"use strict";var n=a("cebd"),o=a.n(n);o.a},7020:function(e,t,a){},"88df":function(e,t,a){"use strict";var n=a("513c"),o=a.n(n);o.a},a1f4:function(e,t,a){"use strict";a.d(t,"i",(function(){return o})),a.d(t,"g",(function(){return r})),a.d(t,"h",(function(){return c})),a.d(t,"f",(function(){return s})),a.d(t,"k",(function(){return i})),a.d(t,"j",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"e",(function(){return p})),a.d(t,"d",(function(){return d})),a.d(t,"a",(function(){return f}));a("b0c0");var n=a("b775");function o(){return Object(n["a"])({url:"/v1/package-management/packages",method:"get"})}function r(){return Object(n["a"])({url:"/v1/package-management/active-packages",method:"get"})}function c(e){return Object(n["a"])({url:"/v1/package-management/package/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/v1/account-package-management/account-packages-paging?name="+e.name+"&package="+e.package+"&status="+e.status+"&numOfElement="+e.limit+"&page="+e.page+"&sort="+e.sort,method:"get"})}function i(e){return Object(n["a"])({url:"/v1/account-package-management/starter-package/"+e,method:"post"})}function l(e){return Object(n["a"])({url:"/v1/account-package-management/current-account-package-by-account-id/"+e,method:"get"})}function u(e){return Object(n["a"])({url:"/v1/account-package-management/cancel-account-package/"+e,method:"put"})}function m(e){return Object(n["a"])({url:e,method:"get"})}function p(e,t){return Object(n["a"])({url:"/v1/package-management/package",method:t,data:e})}function d(e){return Object(n["a"])({url:"/v1/package-management/deactivate",method:"put",data:e})}function f(e){return Object(n["a"])({url:"/v1/package-management/activate",method:"put",data:e})}},b7a8:function(e,t,a){"use strict";var n=a("7020"),o=a.n(n);o.a},cebd:function(e,t,a){},ecac:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[e.user?a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,xs:24}},[a("user-card",{attrs:{user:e.user}})],1),a("el-col",{attrs:{span:18,xs:24}},[a("el-card",[a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"Activity",name:"activity"}},[a("activity")],1),a("el-tab-pane",{attrs:{label:"Edit Account",name:"account"}},[a("account",{attrs:{user:e.user}})],1),"admin"!==e.user.role?a("el-tab-pane",{attrs:{label:"Edit Company",name:"company"}},[a("company",{attrs:{company:e.company}})],1):e._e(),"admin"!==e.user.role?a("el-tab-pane",{attrs:{label:"Billing",name:"billing"}},[e.currPackage?a("billing",{attrs:{"curr-package":e.currPackage}}):e._e()],1):e._e()],1)],1)],1)],1)],1):e._e()])},o=[],r=(a("a4d3"),a("e01a"),a("b0c0"),a("5530")),c=a("2f62"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"1.5em"}},[e._v("Profile")])]),a("div",{staticClass:"user-profile"},[a("div",{staticClass:"box-center"},[a("pan-thumb",{attrs:{image:e.user&&e.user.avatar,height:"100px",width:"100px",hoverable:!1}})],1),a("div",{staticClass:"box-center"},[a("div",{staticClass:"user-name text-center"},[e._v(e._s(e.user&&e.user.name))]),a("div",{staticClass:"user-role text-center text-muted"},[e._v(e._s(e.user&&e.user.role))])])]),a("div",{staticClass:"user-bio"},[a("div",{staticClass:"user-education user-bio-section"},[a("div",{staticClass:"user-bio-section-header"},[a("span",{staticStyle:{"font-size":"1.2em"}},[e._v("Contact")])]),a("div",{staticClass:"user-bio-section-body"},[a("div",{staticClass:"text-muted"},[a("p",[a("svg-icon",{attrs:{"icon-class":"email"}}),a("span",{staticStyle:{"margin-left":"20px"}},[e._v(e._s(e.user&&e.user.email))])],1)]),a("div",{staticClass:"text-muted"},[a("p",[a("svg-icon",{attrs:{"icon-class":"telephone"}}),a("span",{staticStyle:{"margin-left":"20px"}},[e._v(e._s(e.user&&e.user.phone))])],1)])])])])])},i=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pan-item",style:{zIndex:e.zIndex,height:e.height,width:e.width}},[a("div",{staticClass:"pan-info"},[a("div",{staticClass:"pan-info-roles-container"},[e._t("default")],2)]),a("div",{staticClass:"pan-thumb",style:{backgroundImage:"url("+e.image+")"}})])},u=[],m=(a("a9e3"),{name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}}),p=m,d=(a("6b0e"),a("2877")),f=Object(d["a"])(p,l,u,!1,null,"14329dba",null),g=f.exports,h={components:{PanThumb:g},props:{user:{type:Object,default:function(){return{fullname:"",role:"",email:"",phoneNo:"",avatar:""}}}}},b=h,y=(a("88df"),Object(d["a"])(b,s,i,!1,null,"185d1eff",null)),v=y.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block timeline-container"},[a("el-timeline",e._l(e.listActivity,(function(t,n){return a("el-timeline-item",{key:n,attrs:{timestamp:new Date(t.time).toLocaleDateString("en-GB"),placement:"top"}},[a("el-card",[a("h3",[e._v(e._s(t.title))]),a("p",{staticStyle:{"font-style":"italic"}},[e._v("By "+e._s(t.accountById.fullname)+" at "+e._s(new Date(t.time).toLocaleString("en-GB")))])])],1)})),1)],1)},k=[],x=a("c24f"),P={data:function(){return{listActivity:null}},computed:{accountId:function(){return this.$store.state.user.accId}},created:function(){this.getActivities()},methods:{getActivities:function(){var e=this;Object(x["d"])(this.accountId).then((function(t){e.listActivity=t.data.sort((function(e,t){return t.timestamp-e.timestamp}))}))}}},C=P,O=(a("b7a8"),Object(d["a"])(C,w,k,!1,null,"d9b584e4",null)),j=O.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",[a("el-form-item",{attrs:{label:"Email:"}},[a("el-input",{staticStyle:{border:"0 none"},attrs:{readonly:"readonly"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email","string"===typeof t?t.trim():t)},expression:"user.email"}})],1)],1),a("el-checkbox",{model:{value:e.checkChangeInfo,callback:function(t){e.checkChangeInfo=t},expression:"checkChangeInfo"}},[e._v("I want to change my information")]),a("el-form",{ref:"infoForm",attrs:{model:e.infoForm,rules:e.rules,"hide-required-asterisk":!e.checkChangeInfo}},[a("el-form-item",{attrs:{label:"Name",prop:"fullname"}},[a("el-input",{attrs:{readonly:!e.checkChangeInfo},model:{value:e.user.fullname,callback:function(t){e.$set(e.user,"fullname",t)},expression:"user.fullname"}})],1),a("el-form-item",{attrs:{label:"Phone number",prop:"phoneNo"}},[a("el-input",{attrs:{readonly:!e.checkChangeInfo},model:{value:e.user.phoneNo,callback:function(t){e.$set(e.user,"phoneNo","string"===typeof t?t.trim():t)},expression:"user.phoneNo"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",disabled:!e.checkChangeInfo},on:{click:e.submit}},[e._v("Update")])],1)],1),a("el-checkbox",{model:{value:e.checkChangePwd,callback:function(t){e.checkChangePwd=t},expression:"checkChangePwd"}},[e._v("I want to change password")]),e.checkChangePwd?a("el-form",{ref:"passwordData",attrs:{model:e.passwordData,rules:e.rules}},[a("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[a("el-form-item",{attrs:{label:"Current password",prop:"curPassword"}},[a("el-input",{key:e.passwordType,ref:"password",attrs:{type:"password",placeholder:"Enter your current password",name:"password",maxlength:"20"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:function(t){return e.checkCapslock(t)}},model:{value:e.passwordData.currentPassword,callback:function(t){e.$set(e.passwordData,"currentPassword",t)},expression:"passwordData.currentPassword"}})],1)],1),a("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[a("el-form-item",{attrs:{label:"New password",prop:"password"}},[a("el-input",{key:e.passwordType,ref:"password",attrs:{type:"password",placeholder:"Enter new password",name:"password",maxlength:"20"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:function(t){return e.checkCapslock(t)}},model:{value:e.passwordData.newPassword,callback:function(t){e.$set(e.passwordData,"newPassword",t)},expression:"passwordData.newPassword"}})],1)],1),a("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[a("el-form-item",{attrs:{label:"Confirm password",prop:"confirmPwd"}},[a("el-input",{key:e.passwordType,ref:"confirmPwd",attrs:{type:"password",placeholder:"Confirm your new password",maxlength:"20"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:function(t){return e.checkCapslock(t)}},model:{value:e.confirmPwd,callback:function(t){e.confirmPwd=t},expression:"confirmPwd"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.changePassword}},[e._v("Change password")])],1)],1):e._e()],1)},I=[],T=a("5723"),$=a("61f7"),E=a("5f87"),N={props:{user:{type:Object,default:function(){return{phoneNo:"",fullname:"",email:""}}}},data:function(){var e=this,t=function(t,a,n){e.passwordData.currentPassword.length<6?n(new Error("The current password can not be less than 6 digits.")):n()},a=function(t,a,n){e.passwordData.newPassword.length<6?n(new Error("The password can not be less than 6 digits.")):n()},n=function(t,a,n){e.confirmPwd||e.passwordData.newPassword.length||(e.confirmPwd=e.passwordData.newPassword),e.confirmPwd!==e.passwordData.newPassword?n(new Error("The confirmation password is not matched.")):n()},o=function(t,a,n){Object($["d"])(e.user.phoneNo)?n():n(new Error("The phone number only contains digits."))},r=function(t,a,n){0===e.user.fullname.length?n(new Error("The name can not be empty.")):n()};return{checkChangeInfo:!1,checkChangePwd:!1,passwordData:{accountId:Object(E["a"])(),currentPassword:"",newPassword:""},confirmPwd:"",infoForm:Object.assign({},this.user),rules:{fullname:[{required:!0,trigger:"blur",validator:r}],phoneNo:[{required:!0,trigger:"blur",validator:o}],curPassword:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,trigger:"blur",validator:a}],confirmPwd:[{required:!0,trigger:"blur",validator:n}]},passwordType:"password",capsTooltip:!1}},methods:{submit:function(){var e=this;this.$refs.infoForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;Object(T["h"])(e.user).then((function(){e.$message({message:"User information has been updated successfully",type:"success",duration:5e3}),e.$router.go(0)})).catch((function(t){e.$message({message:"Unexpected error occurs",type:"error",duration:5e3}),console.log(t)}))}))},changePassword:function(){var e=this;this.$refs.passwordData.validate((function(t){if(!t)return console.log("error submit!!"),!1;Object(T["a"])(e.passwordData).then((function(t){e.$message({message:"Password has been updated successfully",type:"success",duration:5e3}),e.$router.go(0)})).catch((function(t){e.$message({message:t.response.data.message,type:"error",duration:5e3}),console.log(t)}))}))},checkCapslock:function(e){var t=e.key;this.capsTooltip=t&&1===t.length&&t>="A"&&t<="Z"}}},D=N,S=Object(d["a"])(D,_,I,!1,null,null,null),B=S.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:20}},[a("el-form",{ref:"infoForm",attrs:{model:e.infoForm,rules:e.rules}},[a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Name",prop:"compName"}},[a("el-input",{model:{value:e.company.name,callback:function(t){e.$set(e.company,"name",t)},expression:"company.name"}})],1)],1),a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Email",prop:"compEmail"}},[a("el-input",{model:{value:e.company.email,callback:function(t){e.$set(e.company,"email","string"===typeof t?t.trim():t)},expression:"company.email"}})],1)],1),a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Phone number",prop:"compPhone"}},[a("el-input",{model:{value:e.company.phoneNo,callback:function(t){e.$set(e.company,"phoneNo","string"===typeof t?t.trim():t)},expression:"company.phoneNo"}})],1)],1),a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Location",prop:"location"}},[a("el-input",{model:{value:e.company.location,callback:function(t){e.$set(e.company,"location",t)},expression:"company.location"}})],1)],1),a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"Tax code",prop:"taxCode"}},[a("el-input",{model:{value:e.company.taxCode,callback:function(t){e.$set(e.company,"taxCode","string"===typeof t?t.trim():t)},expression:"company.taxCode"}})],1)],1),a("el-col",{attrs:{lg:24}},[a("el-form-item",{attrs:{label:"Description",prop:"description"}},[a("el-input",{model:{value:e.company.description,callback:function(t){e.$set(e.company,"description",t)},expression:"company.description"}})],1)],1),a("el-col",{attrs:{lg:24}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("Update")])],1)],1)],1)],1)},A=[],F={props:{company:{type:Object,default:function(){return{name:"",email:"",phoneNo:"",location:"",taxCode:"",description:""}}}},data:function(){var e=this,t=function(t,a,n){Object($["d"])(e.company.phoneNo)?n():n(new Error("The phone number only contains digits."))},a=function(t,a,n){if(0===e.company.name.length)n(new Error("The company name can not be empty."));else{var o={id:e.company.id,name:e.company.name};Object(T["b"])(o).then((function(){n()})).catch((function(){n(new Error("This company name already exist."))}))}},n=function(t,a,n){0===e.company.location.length?n(new Error("The location can not be empty.")):n()},o=function(t,a,n){Object($["e"])(e.company.email)?n():n(new Error("Please enter a valid email."))},r=function(t,a,n){Object($["d"])(e.company.taxCode)?n():n(new Error("The tax code only contains digits."))},c=function(t,a,n){0===e.company.description.length?n(new Error("The description can not be empty.")):n()};return{infoForm:Object.assign({},this.company),checkName:"",rules:{compName:[{required:!0,trigger:"blur",validator:a}],location:[{required:!0,trigger:"blur",validator:n}],compEmail:[{required:!0,trigger:"blur",validator:o}],compPhone:[{required:!0,trigger:"blur",validator:t}],taxCode:[{required:!0,trigger:"blur",validator:r}],description:[{required:!0,trigger:"blur",validator:c}]}}},computed:{},methods:{submit:function(){var e=this;this.$refs.infoForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;Object(T["i"])(e.company).then((function(t){e.$message({message:"Company information has been updated successfully",type:"success",duration:5e3}),e.$router.go(0)})).catch((function(t){e.$message({message:"Unexpected error occurs",type:"error",duration:5e3}),console.log(t)}))}))}}},U=F,z=Object(d["a"])(U,q,A,!1,null,null,null),L=z.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.currPackage?a("div",[a("h3",[e._v("Your current package")]),a("el-form",[a("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"Package name:","label-width":"150px"}},[a("span",[e._v(e._s(e.currPackage.packageById&&e.currPackage.packageById.name))])]),a("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"Post remain:","label-width":"150px"}},[a("span",[e._v(e._s(e.currPackage&&e.currPackage.numOfPost))])]),a("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"Expired date:","label-width":"150px"}},[a("span",[e._v(e._s(e.currPackage&&new Date(e.currPackage.validTo).toLocaleString("en-US",{dateStyle:"long",timeStyle:"medium"})))])]),a("el-button",{attrs:{type:"danger"},on:{click:e.cancelCurrentPackage}},[e._v("Cancel package")])],1)],1):e._e(),e.currPackage?e._e():a("div",[a("h3",[e._v("You have not bought any packages.")])])])},G=[],J=a("a1f4"),Z={props:{currPackage:{type:Object,required:!0}},computed:{accountId:function(){return this.$store.state.user.accId}},methods:{cancelCurrentPackage:function(){var e=this;Object(J["b"])(this.accountId).then((function(t){e.$router.push({name:"Profile"}),e.$message({message:"Your package has been canceled successfully",type:"success",duration:2500}),e.$router.go(0)})).catch((function(e){console.log(e)}))}}},H=Z,K=Object(d["a"])(H,Y,G,!1,null,null,null),M=K.exports,Q={name:"Profile",components:{UserCard:v,Activity:j,Account:B,Company:L,Billing:M},data:function(){return{user:{},company:{},currPackage:{},activeTab:"activity",account:null}},computed:Object(r["a"])(Object(r["a"])({},Object(c["b"])(["fullname","avatar","roles","username"])),{},{accountId:function(){return this.$store.state.user.accId}}),created:function(){this.getAccountData(),this.getPackage()},methods:{getAccountData:function(){var e=this;Object(x["c"])(this.accountId).then((function(t){e.account=t.data,e.user={id:e.account.id,name:e.account.fullname,fullname:e.account.fullname,role:e.account.role,email:e.account.email,phone:e.account.phoneNo,phoneNo:e.account.phoneNo,avatar:e.avatar},e.company={id:e.account.companyId,name:e.account.companyById.name,email:e.account.companyById.email,phoneNo:e.account.companyById.phoneNo,location:e.account.companyById.location,taxCode:e.account.companyById.taxCode,description:e.account.companyById.description,avatar:e.account.companyById.avatar,verified:e.account.companyById.verified,openjobCompanyId:e.account.companyById.openjobCompanyId}}))},getPackage:function(){var e=this;Object(J["j"])(this.accountId).then((function(t){e.currPackage=t.data})).catch((function(e){console.log(e)}))}}},R=Q,V=Object(d["a"])(R,n,o,!1,null,null,null);t["default"]=V.exports}}]);