(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3247def6"],{7026:function(t,a,e){"use strict";e.r(a);var c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"checkout-container"},[t._m(0),e("el-row",{attrs:{gutter:40}},[e("el-col",{attrs:{span:14,xs:24}},[e("div",[e("h3",{staticStyle:{"font-weight":"300"}},[t._v("Payment method")]),e("el-radio-group",{model:{value:t.selectMethod,callback:function(a){t.selectMethod=a},expression:"selectMethod"}},[e("span",{staticClass:"radio-button"},[e("el-radio",{attrs:{label:1}},[e("span",{staticClass:"radio-label"},[e("span",{staticStyle:{"font-size":"16px"}},[t._v("PayPal")]),e("img",{staticStyle:{"margin-left":"20px"},attrs:{src:"https://s3.amazonaws.com/growth-prototypes/pp_cc_mark_111x69.jpg",alt:"PayPal Icon",width:"74",height:"20"}})])])],1)])],1)]),e("el-col",{attrs:{span:10,xs:24}},[e("el-card",{staticStyle:{"margin-bottom":"20px",padding:"10px"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"500","font-size":"25px",color:"#5D677A"}},[t._v("Summary")])]),e("div",{staticClass:"checkout-detail"},[e("div",{staticClass:"box-center"},[e("table",{staticClass:"cart"},[e("tbody",[e("tr",[e("td",{staticClass:"item"},[t._v(t._s(t.package_&&t.package_.name)+" Package")]),e("td",{staticClass:"amount"},[t._v(t._s(t.package_&&t.package_.currency)+" "+t._s(t._f("toThousandFilter")(t.package_&&t.package_.price)))])])])]),e("table",{staticClass:"total"},[e("tbody",[e("tr",[e("td",{staticClass:"title"},[t._v("Total")]),e("td",{staticClass:"total-amount"},[t._v(t._s(t.package_&&t.package_.currency)+" "+t._s(t._f("toThousandFilter")(t.package_&&t.package_.price)))])])])]),e("div",{staticClass:"legal-message"},[t._v(" ORAS is required by law to collect applicable transaction taxes for purchases made in certain tax jurisdictions. ")])])]),e("div",{},[e("div",{staticClass:"legal-message"},[e("span",[t._v(" By completing your purchase you agree to these "),e("a",{staticClass:"bold",attrs:{href:"#",target:"_blank",rel:"noopener noreferrer"}},[t._v("Terms of Service")]),t._v(". ")])]),e("el-button",{staticClass:"proceed-btn",attrs:{type:"danger",loading:t.btnLoading},on:{click:function(a){t.proceedPaypal("v1/paypal/pay/"+(t.package_&&t.package_.price)+"?accountId="+t.accountId+"&packageId="+(t.package_&&t.package_.id))}}},[t._v("Complete Payment")])],1)])],1)],1)],1),e("el-dialog",{attrs:{visible:t.showDialog,width:"33%"},on:{"update:visible":function(a){t.showDialog=a}}},[e("span",{attrs:{slot:"title"},slot:"title"},[e("svg-icon",{attrs:{"class-name":"size-icon","icon-class":t.hasError?"failed":"success"}}),t._v(" "+t._s(t.dialogTitle))],1),e("p",{staticClass:"message",domProps:{innerHTML:t._s(t.message)}})])],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"heading"},[e("h1",{staticStyle:{"font-weight":"500"}},[t._v("Checkout")]),e("p",[t._v("Select your payment method and review the items in your shopping cart.")])])}],s=e("a1f4"),o={name:"Checkout",components:{},data:function(){return{package_:null,card:{name:"",number:"",expire:"",cvv:""},activeTab:"activity",selectMethod:1,dialogTitle:"",message:"",showDialog:!1,btnLoading:!1,hasError:!1,baseURL:"https://oras-api.herokuapp.com/"}},computed:{accountId:function(){return this.$store.state.user.accId}},created:function(){this.packageId=this.$route.params&&this.$route.params.id,this.getCart(this.packageId)},methods:{getCart:function(t){var a=this;Object(s["e"])(t).then((function(t){a.package_=t.data}))},proceedPaypal:function(t){var a=this;this.btnLoading=!0,Object(s["b"])(t).then((function(e){window.open(a.baseURL+t,"_self")})).catch((function(t){a.dialogTitle="Something went wrong!",a.hasError=!0,406===t.response.data.status&&(a.message="You have to use up your number of posts or cancel your current package in order to purchase a new one."),a.showDialog=!0,a.btnLoading=!1}))}}},r=o,i=(e("94c6"),e("2877")),l=Object(i["a"])(r,c,n,!1,null,"479af191",null);a["default"]=l.exports},"94c6":function(t,a,e){"use strict";var c=e("fc0b"),n=e.n(c);n.a},a1f4:function(t,a,e){"use strict";e.d(a,"f",(function(){return n})),e.d(a,"e",(function(){return s})),e.d(a,"c",(function(){return o})),e.d(a,"d",(function(){return r})),e.d(a,"h",(function(){return i})),e.d(a,"g",(function(){return l})),e.d(a,"a",(function(){return u})),e.d(a,"b",(function(){return p}));var c=e("b775");function n(){return Object(c["a"])({url:"/v1/package-management/packages",method:"get"})}function s(t){return Object(c["a"])({url:"/v1/package-management/package/"+t,method:"get"})}function o(){return Object(c["a"])({url:"/v1/account-package-management/account-packages",method:"get"})}function r(t){return Object(c["a"])({url:"/v1/account-package-management/account-packages-paging?numOfElement="+t.limit+"&page="+t.page,method:"get"})}function i(t){return Object(c["a"])({url:"/v1/account-package-management/starter-package/"+t,method:"post"})}function l(t){return Object(c["a"])({url:"/v1/account-package-management/current-account-package-by-account-id/"+t,method:"get"})}function u(t){return Object(c["a"])({url:"/v1/account-package-management/cancel-account-package/"+t,method:"put"})}function p(t){return Object(c["a"])({url:t,method:"get"})}},fc0b:function(t,a,e){}}]);